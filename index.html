<span style="font-family:monospace"><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">function populateUpgrades() {</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">UIElements.upgradesPanel.innerHTML = '';</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">const nextUpgrades = ALL_UPGRADES.filter(u =&gt; !u.purchased).slice(0, 10);</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">let currentTierHeader = "";</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br>
<br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">nextUpgrades.forEach(upgrade =&gt; {</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">if (upgrade.tier !== currentTierHeader) {</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">currentTierHeader = upgrade.tier;</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">const tierHeader = document.createElement('div');</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">tierHeader.className = 'upgrade-tier-header';</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">tierHeader.textContent = currentTierHeader;</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">UIElements.upgradesPanel.appendChild(tierHeader);</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">}</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br>
<br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">const button = document.createElement('button');</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">button.id = `upgrade-${upgrade.id}`;</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">button.className = 'btn w-full text-left p-2 rounded border border-gray-600 hover:bg-gray-</span><br>700 disabled:opacity-50 disabled:cursor-not-allowed';<span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">button.innerHTML = `</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">&lt;div class="font-bold"&gt;${upgrade.name} (#${upgrade.id + 1})&lt;/div&gt;</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">&lt;div class="text-xs text-slate-300"&gt;${upgrade.desc}&lt;/div&gt;</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">&lt;div class="text-xs text-amber-300"&gt;Cost: ${formatNumber(upgrade.cost)} ${upgrade.curr</span><br>ency}&lt;/div&gt;`;<span style="color:#eff0f1;background-color:#151b21;">
</span><br>
<br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">button.disabled = !(gameState[upgrade.currency] &gt;= upgrade.cost);</span><span style="color:#eff0f1;background-color:#151b21;">
</span><br>
<br> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<span style="color:#eff0f1;background-color:#151b21;">406,1</span><span style="color:#eff0f1;background-color:#151b21;"> &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span><span style="color:#eff0f1;background-color:#151b21;">76%</span><br><span style="color:#eff0f1;background-color:#151b21;">
</span><br></span>